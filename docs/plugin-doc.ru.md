# Описание работы с плагином

## Как начать работать

1. Если вы используете скрам, то создайте канбан доску, которая будет копией вашей скрам доски.
2. Уже можете начать пользоваться, но у вас не будет одной важной метрики, 
   которая позволит вам сократить сроки реализации не меняя процессы и команду
3. А чтобы получить эту метрику: вытащите в явное все ожидания задач в системе.
   Это этапы передачи работы от одного центра к другому (от разработки в тетсирование).
   Это ожидание фиксации, которая делается роботами и кидает задачу на ожидание тестирования на препроде.
   (Ожидание фиксации - Ожидание тестирования на препроде - тестирование на препроде)

## Настройка

Перед началом работы почитайте главу [как начать работать](#как-начать-работать)

На экране настроек можно задать:

* Язык интерфейса. Применяется сразу же. Запоминается в локальном хранилище браузера.
* Период для анализа: это время за которое проводится анализ задач. 
  Задачи, завершенные раньше начала периода - игнорируются.
* Фильры: задачи на доске будет фильтроваться по выбранным фильтрам. 
  Удобно завести фильтры "Срочные" и "Не срочные" задачи, чтобы строить статистику по разным
  типам задач.
* Линии: выберите линии, которые будут участвовать в расчёте статистики.
* Колонки: распределение колонок по типам.
  * Взаимоисключающие:
    * Пропустить: не учитывать колонку в расчёте. На kanban-доске это, обычно, скрытая колонка бэклога.
    * В работе: колонки, указывающие на статусы задач, над которыми ведётся работа (анализ, разработка, тестирование).
    * В ожидании: колонки, указывающие на статусы задач, которые ждут, когда их возьмут на следующий этап работы. 
      Это колонки - буферы.
    * Готово: колонки, указывающие на статусы задач после их завершения.
  * Время поставки: это колонки, формирующие lead time.
    Обычно это сплошная линия от первого статуса после принятия обязательства командой (включая его)
    по последний статус перед отдачей обязательства (включая его). 
    Следующий по порядку статус находится уже после отдачи обязательства.
  * Время цикла: то же, что и время поставки, но используется для определения, например, цикла разработки. 
    Используется, что бы отдельно оценить время разработки, а так же, чтобы проводить триаж задач перед разработкой.
  * Поле для размера задач: поле типа Option в котором перечислены значения размера задачи/гипотезы.
    Используется, чтобы более точно строить предсказания по времени выполнения задач схожих размеров.
  * Поле для функции жизненного цикла получения ценности: поле типа Option в котором перечислены 11 значений
    [функций жизненного цикла получения ценности](#паттерн-функции-жизненного-цикла-получения-ценности).
    Значения обязательно должны начинаться с цифрового кода, так плагин определит значение вне зависимости от языка.
  * Поле для коэффициента времени жизни: поле типа Option в котором перечислены 5 значений коэффициента времени жизни 
    (отношения времени производства к тому как долго это будет приносить прибыль). 
    Значения должны содержать строки "2:1", "1:1", "1:2", "1:5" и "1:10", так как по ним плагин 
    определит значение вне зависимости от языка.
  * Поле для желаемой даты поставки: поле типа date или datetime в котором хранится желаемая дата поставки в 
    рамках SLA/SLE. Имейте в виду, что это не дата дедлайна. Это мягкая дата: задержка поставки после этой 
    даты не принесёт больших убытков или реакции надзорных органов.
  * Поле для даты дедлайна:  поле типа date или datetime в котором хранится дата, после которой задержка поставки
    принесёт большие убытки или реакцию надзорных органов.
    
## Как использовать диаграммы

Описание работы с экранами плагина. 

### Главный экран

На этом экране собраны все основные метрики Kanban-метода.

По оси X отложены периоды агрегирования.
Все метрики собираются по дням на границу суток по локальному времени пользователя и агрегируются в период.
Например, если в дате 23.02.2023 есть значения: 4 в пропускной способности, 34 поставка, 32 цикл, 26% эффективность, 
74% потери, 89.47 средний WIP, то это означает, что в период, закончившийся 23.02.2023 (допустим это неделя):
* средний ежедневный объём незавершенной работы за 7 дней был 89.47
* за это время команда завершила 4 задачи
* эти задачи в среднем провели 26% времени в колонках с работой
* эти задачи в среднем провели 74% времени в колонках с ожиданием
* среднее время поставки (lead time) этих задач был 34 дня (календарных)
* среднее время цикла (допустим цикла разработки) этих задач был 32 дня (календарных)

Если вы смотрите доску с бизнес-целями, то время поставки можно задать от момента, 
когда мы взяли идею в проработку до релиза. И тогда это будет time-to-market.
Если при этом время цикла задать от принятия командой разработки цели в груминг до релиза, то мы получим время цикла 
разработки и бонусом получим триаж задач перед отдачей их в команду разработки.

### Общий WIP

На этом экране можно оценить динамику агрегированных по периоду значений подневных объёмов незавершенной работы.

А так же понять сколько времени команда будет реализовывать текущую незавершенную работу исходя
из средней, медианы и 75 персентили пропускной способности.
Если у вас период анализа 2 недели, а текущий WIP команда будет реализовывать 30 периодов, 
то у меня к вам вопрос: а точно надо столько незавершенки в которую уже вложены силы, 
что её придется делать больше года?

### Накопленный WIP

На этом экране можно оценить накопленную работу в днях.

Максим Дорофеев это называет дефектодни: тухлось наших обязательств перед заказчиком.

Здесь указаны суммарное число дней, проведенное всеми незавершенными задачами на доске.
Кроме того отдельно приведено суммарное число дней, проведенное всеми незавершенными задачами на доске.

### WIP по колонкам

Тут чуть больше смысла, чем в общем WIP.

Здесь можно оценить сколько было задач в каждой колонке агрегировано.

Например, глядя на медианы или моды можно оценить типичные объемы незавершенной работы в каждой из колонок.
Оценить их динамику.
Так же эти графики покажут узкие места: перед ними в буферах всегда много работы. 
Конечно при условии, что в буферных колонках нет WIP лимитов.

А глядя на минимумы в буферных колонках можно следить за тем, что вы слишком зажали WIP лимиты: 
если минимум перед узким местом равен нулю, то, скорее всего, у вас узкое место простаивало из-за отсутствия работы.  

### Время по колонкам

Здесь можно оценить сколько времени провели завершенные в каждой колонке агрегировано.

Агрегированные значения времён в колонках ожидания позволят принимать решения по изменению процессов
в сторону уменьшения простоя задач.

### Время поставки и цикла

Здесь можно оценить тренды и размах времён поставки и цикла.

### Поиск узких мест

Тепловая карта времени, которые провели задачи в каждой из колонок.

Колонки ожидания объединены со следующими за ними колонками, 
так как время ожидания перед узким местом как раз и является значимым индикатором.

### Распределение времени выполнения

Диаграмма, на основе которой можно делать вероятностный прогноз о времени выполнения задач. 
По горизонтальной оси откладывается Lead Time, по вертикальной — количество задач, выполненных с таким Lead Time.

На основе полученной гистограммы можно вычислить вероятность завершения задач за определенный Lead Time, 
подробнее об этом — [в статье](https://scrumtrek.ru/blog/kanban/8389/kanban-dlya-scrum-komand/#%D0%94%D0%BE%D1%81%D1%82%D0%BE%D0%B2%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%BE%D1%86%D0%B5%D0%BD%D0%BA%D0%B0_%D1%81%D1%80%D0%BE%D0%BA%D0%BE%D0%B2_%D0%B7%D0%B0%D0%B4%D0%B0%D1%87)

### Контрольная диаграмма

График, показывающий дисперсию времени выполнения задач (Lead Time). 
Используется для поиска и анализа причин, приводящих к нестабильности рабочего процесса.

Как раз для поиска сделана табличка: она позволяет найти задачи, которые вы ещё не обсудили 
(указываем число периодов от предыдущей встречи). Так же задаём порог в процентилях времени, 
превышение которого записывает задачу в подозрительные.
На графике область поиска (красная) будет показана для времени поставки.
Но поиск будет произведён для времени для каждой колонки, а так же времени поставки и времени цикла.

В каждом отдельном случае попавшиеся задачи добавляются в список "победителей" в соответствующий столбец.
Это позволит проводить анализ задач, которые долго находились в узком месте, чтобы оптимизировать процессы в нём.  

Но, как правило, задача, которая "выиграла главный приз": попалась в красной зоне lead time - выигрывает и малые номинации.

Так же внизу страницы появляется список "призёров", отсортированных, по количеству "призов". 

### Время жизни элемента

Позволяет соотнести текущее время жизни каждого незавершенного элемента к статистическим временам покидания элемента текущей колонки.
Это поможет обратить внимание на элементы, которые уже очевидно выбиваются из общей статистики.

### Анализ по WIP

В теории, если у вас процессы стабильные, то эти графики покажут вам, что чем больше незавершенной работы (WIP),
тем больше время поставки и цикла, ниже эффективность (так как задачи дольше ждут в колонках ожидания).
